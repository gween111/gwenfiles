<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>100 C√¢u Tr·∫Øc Nghi·ªám Ch∆∞∆°ng 5: √ù Th·ª©c - VƒÉn H√≥a - Vi Ph·∫°m - Tr√°ch Nhi·ªám Ph√°p L√Ω (N√¢ng Cao)</title>
    <style>
        :root {
            --primary: #8e44ad; /* M√†u t√≠m tri th·ª©c/l√Ω lu·∫≠n */
            --accent: #d35400; /* M√†u cam ƒëi·ªÉm nh·∫•n */
            --bg: #f4f6f7;
            --text: #2c3e50;
            --correct-bg: #d5f5e3;
            --correct-text: #145a32;
            --wrong-bg: #fadbd8;
            --wrong-text: #7b241c;
        }

        * { box-sizing: border-box; }

        body {
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            background-color: #eaeded;
            color: var(--text);
            margin: 0;
            padding: 20px;
            line-height: 1.6;
        }

        .container {
            max-width: 950px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            overflow: hidden;
            display: flex;
            flex-direction: column;
            min-height: 90vh;
        }

        header {
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            padding: 35px;
            text-align: center;
        }

        h1 { margin: 0; font-size: 2.2rem; letter-spacing: 1px; text-shadow: 2px 2px 4px rgba(0,0,0,0.2); }
        .subtitle { font-size: 1.1rem; opacity: 0.95; margin-top: 10px; font-weight: 300; }

        /* M√†n h√¨nh c√†i ƒë·∫∑t */
        #setup-screen {
            padding: 60px;
            text-align: center;
            flex: 1;
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
        }

        .note-box {
            background-color: #fff3e0;
            border-left: 5px solid #ff9800;
            padding: 20px;
            border-radius: 4px;
            margin-bottom: 40px;
            max-width: 700px;
            text-align: left;
            font-size: 1rem;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }

        .control-group {
            margin: 30px 0;
            background: #fdfefe;
            padding: 30px;
            border-radius: 12px;
            border: 2px solid #f2f3f4;
        }

        input[type="number"] {
            padding: 12px;
            font-size: 1.2rem;
            width: 100px;
            text-align: center;
            border: 2px solid var(--primary);
            border-radius: 8px;
            color: var(--primary);
            font-weight: bold;
            outline: none;
        }

        .btn {
            background-color: var(--accent);
            color: white;
            border: none;
            padding: 16px 45px;
            font-size: 1.2rem;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(211, 84, 0, 0.3);
        }

        .btn:hover { background-color: #ba4a00; transform: translateY(-3px); }
        .btn:active { transform: translateY(0); }

        /* M√†n h√¨nh thi */
        #quiz-screen {
            display: none;
            padding: 0;
            flex: 1;
            flex-direction: column;
        }

        .progress-bar {
            height: 8px;
            background-color: #e0e0e0;
            width: 100%;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--accent);
            width: 0%;
            transition: width 0.5s ease;
        }

        .question-container {
            padding: 40px 60px;
            flex: 1;
        }

        .question-meta {
            font-size: 0.9rem;
            color: #7f8c8d;
            margin-bottom: 20px;
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            text-transform: uppercase;
            letter-spacing: 1px;
            border-bottom: 2px solid #f0f3f4;
            padding-bottom: 15px;
        }

        .question-text {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 35px;
            color: #2c3e50;
            line-height: 1.5;
        }

        .options-grid {
            display: grid;
            gap: 15px;
        }

        .option-card {
            background: #fff;
            border: 2px solid #e0e0e0;
            padding: 20px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.2s;
            position: relative;
            font-size: 1.1rem;
            display: flex;
            align-items: flex-start;
        }

        .option-card span {
            font-weight: bold;
            margin-right: 15px;
            min-width: 25px;
            color: var(--primary);
        }

        .option-card:hover:not(.disabled) { border-color: var(--primary); background: #f4ecf7; }
        
        .option-card.correct {
            border-color: var(--correct-text);
            background-color: var(--correct-bg);
            color: var(--correct-text);
        }
        
        .option-card.wrong {
            border-color: var(--wrong-text);
            background-color: var(--wrong-bg);
            color: var(--wrong-text);
            opacity: 0.9;
        }
        
        .option-card.disabled { cursor: default; }

        .explanation-box {
            margin-top: 35px;
            padding: 25px;
            background-color: #eafaf1;
            border-left: 5px solid #2ecc71;
            border-radius: 8px;
            display: none;
            font-size: 1.05rem;
            color: #2c3e50;
            animation: slideUp 0.4s ease;
        }
        
        @keyframes slideUp { from { opacity: 0; transform: translateY(20px); } to { opacity: 1; transform: translateY(0); } }

        .nav-buttons {
            padding: 25px 60px;
            border-top: 1px solid #eee;
            display: flex;
            justify-content: flex-end;
            background: #fdfefe;
        }

        .btn-next { background-color: var(--primary); color: white; border: none; padding: 12px 30px; border-radius: 8px; font-size: 1.1rem; cursor: pointer; }
        .btn-next:hover { background-color: #7d3c98; }

        /* M√†n h√¨nh k·∫øt qu·∫£ */
        #result-screen {
            display: none;
            padding: 50px;
            text-align: center;
        }

        .score-circle {
            width: 160px;
            height: 160px;
            border-radius: 50%;
            background: linear-gradient(135deg, #8e44ad, #9b59b6);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 3.5rem;
            font-weight: bold;
            margin: 0 auto 30px;
            box-shadow: 0 10px 20px rgba(142, 68, 173, 0.4);
        }

        .review-list {
            text-align: left;
            margin-top: 40px;
            max-height: 500px;
            overflow-y: auto;
            border: 1px solid #ddd;
            border-radius: 12px;
            background: #fff;
        }

        .review-item {
            padding: 25px;
            border-bottom: 1px solid #eee;
            font-size: 1rem;
        }
        .review-item.bad { border-left: 6px solid var(--wrong-text); background-color: #fff9f9; }
        .review-item.good { border-left: 6px solid var(--correct-text); background-color: #fafffb; }

    </style>
</head>
<body>

<div class="container">
    <header>
        <h1>√în T·∫≠p Ph√°p Lu·∫≠t ƒê·∫°i C∆∞∆°ng</h1>
        <div class="subtitle">Ch∆∞∆°ng 5: √ù Th·ª©c - VƒÉn H√≥a - Vi Ph·∫°m - Tr√°ch Nhi·ªám Ph√°p L√Ω</div>
    </header>

    <!-- SETUP SCREEN -->
    <div id="setup-screen">
        <div class="note-box">
            <strong>üìö TR·ªåNG T√ÇM √îN T·∫¨P (HARDCORE):</strong>
            <ul style="margin: 10px 0 0 20px; padding: 0; line-height: 1.8;">
                <li><strong>√ù th·ª©c ph√°p lu·∫≠t:</strong> Ph√¢n bi·ªát T√¢m l√Ω ph√°p lu·∫≠t (c·∫£m x√∫c) v√† T∆∞ t∆∞·ªüng ph√°p lu·∫≠t (l√Ω lu·∫≠n).</li>
                <li><strong>VƒÉn h√≥a ph√°p lu·∫≠t:</strong> Hi·ªÉu r√µ c·∫•u tr√∫c v√† c√°c lo·∫°i h√¨nh vƒÉn h√≥a ph√°p lu·∫≠t.</li>
                <li><strong>Vi ph·∫°m ph√°p lu·∫≠t:</strong> Ph√¢n bi·ªát 4 y·∫øu t·ªë c·∫•u th√†nh (ƒë·∫∑c bi·ªát l√† L·ªói trong M·∫∑t ch·ªß quan).</li>
                <li><strong>Tr√°ch nhi·ªám ph√°p l√Ω:</strong> Ph√¢n bi·ªát tr√°ch nhi·ªám H√¨nh s·ª±, H√†nh ch√≠nh, D√¢n s·ª±, K·ª∑ lu·∫≠t.</li>
            </ul>
        </div>
        
        <div class="control-group">
            <label>S·ªë l∆∞·ª£ng c√¢u h·ªèi mu·ªën th·ª≠ th√°ch (Max 100):</label><br><br>
            <input type="number" id="q-count" value="20" min="5" max="100">
        </div>

        <button class="btn" id="btn-start">B·∫Øt ƒê·∫ßu L√†m B√†i</button>
    </div>

    <!-- QUIZ SCREEN -->
    <div id="quiz-screen">
        <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
        
        <div class="question-container">
            <div class="question-meta">
                <span id="q-index">C√¢u 1/20</span>
                <span id="q-topic">Ch·ªß ƒë·ªÅ: T·ªïng quan</span>
            </div>
            <div class="question-text" id="q-text">ƒêang t·∫£i c√¢u h·ªèi...</div>
            <div class="options-grid" id="options">
                <!-- Options rendered here -->
            </div>
            <div class="explanation-box" id="explain"></div>
        </div>

        <div class="nav-buttons">
            <button class="btn-next" id="btn-next" style="display:none">C√¢u Ti·∫øp Theo ‚ûú</button>
            <button class="btn-next" id="btn-finish" style="display:none; background-color: var(--correct-text);">Xem K·∫øt Qu·∫£ üèÅ</button>
        </div>
    </div>

    <!-- RESULT SCREEN -->
    <div id="result-screen">
        <h2>K·∫øt Qu·∫£ Chung Cu·ªôc</h2>
        <div class="score-circle" id="score">0/0</div>
        <p id="feedback-msg" style="font-size: 1.3rem; margin-bottom: 30px; font-weight: 500;"></p>
        <button class="btn" id="btn-restart">L√†m L·∫°i ƒê·ªÅ M·ªõi</button>
        <div class="review-list" id="review"></div>
    </div>
</div>

<script>
document.addEventListener('DOMContentLoaded', () => {

    // --- NG√ÇN H√ÄNG C√ÇU H·ªéI (HARDCORE - 100 C√¢u) ---
    const fullDatabase = [
        // --- PH·∫¶N 1: √ù TH·ª®C PH√ÅP LU·∫¨T & VƒÇN H√ìA PH√ÅP LU·∫¨T ---
        {
            topic: "√ù th·ª©c ph√°p lu·∫≠t",
            q: "Nh·∫≠n ƒë·ªãnh n√†o sau ƒë√¢y l√† ƒê√öNG nh·∫•t v·ªÅ m·ªëi quan h·ªá gi·ªØa 'T√¢m l√Ω ph√°p lu·∫≠t' v√† 'T∆∞ t∆∞·ªüng ph√°p lu·∫≠t' trong c·∫•u tr√∫c c·ªßa √Ω th·ª©c ph√°p lu·∫≠t?",
            a: [
                "T√¢m l√Ω ph√°p lu·∫≠t l√† s·ª± ph·∫£n √°nh l√Ω lu·∫≠n, khoa h·ªçc; T∆∞ t∆∞·ªüng ph√°p lu·∫≠t l√† s·ª± ph·∫£n √°nh c·∫£m t√≠nh.",
                "T√¢m l√Ω ph√°p lu·∫≠t l√† ti·ªÅn ƒë·ªÅ h√¨nh th√†nh t∆∞ t∆∞·ªüng ph√°p lu·∫≠t; T∆∞ t∆∞·ªüng ph√°p lu·∫≠t t√°c ƒë·ªông tr·ªü l·∫°i, ƒë·ªãnh h∆∞·ªõng cho t√¢m l√Ω ph√°p lu·∫≠t.",
                "Hai b·ªô ph·∫≠n n√†y t·ªìn t·∫°i ƒë·ªôc l·∫≠p, kh√¥ng c√≥ m·ªëi li√™n h·ªá t√°c ƒë·ªông qua l·∫°i.",
                "T√¢m l√Ω ph√°p lu·∫≠t quan tr·ªçng h∆°n t∆∞ t∆∞·ªüng ph√°p lu·∫≠t v√¨ n√≥ xu·∫•t hi·ªán tr∆∞·ªõc."
            ],
            correct: 1,
            explain: "T√¢m l√Ω ph√°p lu·∫≠t l√† c·∫£m x√∫c, th√°i ƒë·ªô (s∆° khai). T∆∞ t∆∞·ªüng ph√°p lu·∫≠t l√† quan ƒëi·ªÉm, h·ªçc thuy·∫øt (h·ªá th·ªëng). T∆∞ t∆∞·ªüng ƒë·ªãnh h∆∞·ªõng v√† n√¢ng cao t√¢m l√Ω."
        },
        {
            q: "ƒê·∫∑c ƒëi·ªÉm n√†o th·ªÉ hi·ªán t√≠nh 'ƒê·ªôc l·∫≠p t∆∞∆°ng ƒë·ªëi' c·ªßa √Ω th·ª©c ph√°p lu·∫≠t so v·ªõi t·ªìn t·∫°i x√£ h·ªôi?",
            a: [
                "√ù th·ª©c ph√°p lu·∫≠t lu√¥n lu√¥n thay ƒë·ªïi c√πng l√∫c v·ªõi s·ª± thay ƒë·ªïi c·ªßa kinh t·∫ø x√£ h·ªôi.",
                "√ù th·ª©c ph√°p lu·∫≠t c√≥ th·ªÉ l·∫°c h·∫≠u h∆°n ho·∫∑c v∆∞·ª£t tr∆∞·ªõc s·ª± ph√°t tri·ªÉn c·ªßa t·ªìn t·∫°i x√£ h·ªôi.",
                "√ù th·ª©c ph√°p lu·∫≠t ho√†n to√†n kh√¥ng ph·ª• thu·ªôc v√†o ƒëi·ªÅu ki·ªán kinh t·∫ø x√£ h·ªôi.",
                "√ù th·ª©c ph√°p lu·∫≠t ch·ªâ ph·∫£n √°nh th·ª• ƒë·ªông th·ª±c t·∫°i x√£ h·ªôi."
            ],
            correct: 1,
            explain: "T√≠nh ƒë·ªôc l·∫≠p t∆∞∆°ng ƒë·ªëi th·ªÉ hi·ªán ·ªü ch·ªó n√≥ kh√¥ng l·ªá thu·ªôc m√°y m√≥c. N√≥ c√≥ th·ªÉ c≈© k·ªπ (l·∫°c h·∫≠u) ho·∫∑c ti√™n phong (v∆∞·ª£t tr∆∞·ªõc) so v·ªõi th·ª±c t·∫ø ƒë·ªùi s·ªëng."
        },
        {
            q: "VƒÉn h√≥a ph√°p lu·∫≠t (Legal Culture) KH√îNG bao g·ªìm y·∫øu t·ªë n√†o sau ƒë√¢y?",
            a: [
                "H·ªá th·ªëng c√°c vƒÉn b·∫£n quy ph·∫°m ph√°p lu·∫≠t.",
                "Tr√¨nh ƒë·ªô nh·∫≠n th·ª©c v√† √Ω th·ª©c tu√¢n th·ªß ph√°p lu·∫≠t c·ªßa ng∆∞·ªùi d√¢n.",
                "T√†i s·∫£n v·∫≠t ch·∫•t c·ªßa c√°c doanh nghi·ªáp t∆∞ nh√¢n.",
                "C√°c thi·∫øt ch·∫ø ph√°p l√Ω (T√≤a √°n, Vi·ªán ki·ªÉm s√°t...) ho·∫°t ƒë·ªông hi·ªáu qu·∫£."
            ],
            correct: 2,
            explain: "VƒÉn h√≥a ph√°p lu·∫≠t bao g·ªìm gi√° tr·ªã tinh th·∫ßn (√Ω th·ª©c, t∆∞ t∆∞·ªüng) v√† gi√° tr·ªã v·∫≠t ch·∫•t (thi·∫øt ch·∫ø, vƒÉn b·∫£n lu·∫≠t...). T√†i s·∫£n doanh nghi·ªáp l√† y·∫øu t·ªë kinh t·∫ø, kh√¥ng ph·∫£i vƒÉn h√≥a ph√°p lu·∫≠t."
        },
        {
            q: "√ù th·ª©c ph√°p lu·∫≠t c√≥ t√≠nh giai c·∫•p, ƒëi·ªÅu n√†y c√≥ nghƒ©a l√† g√¨?",
            a: [
                "M·ªçi giai c·∫•p trong x√£ h·ªôi ƒë·ªÅu c√≥ h·ªá t∆∞ t∆∞·ªüng ph√°p lu·∫≠t gi·ªëng nhau.",
                "Trong x√£ h·ªôi c√≥ giai c·∫•p, √Ω th·ª©c ph√°p lu·∫≠t ch·ªß ƒë·∫°o lu√¥n ph·∫£n √°nh √Ω ch√≠ v√† l·ª£i √≠ch c·ªßa giai c·∫•p th·ªëng tr·ªã.",
                "Ch·ªâ giai c·∫•p th·ªëng tr·ªã m·ªõi c√≥ √Ω th·ª©c ph√°p lu·∫≠t, giai c·∫•p b·ªã tr·ªã kh√¥ng c√≥.",
                "Ph√°p lu·∫≠t kh√¥ng b·∫£o v·ªá l·ª£i √≠ch c·ªßa giai c·∫•p b·ªã tr·ªã."
            ],
            correct: 1,
            explain: "M·ªói giai c·∫•p c√≥ √Ω th·ª©c ph√°p lu·∫≠t ri√™ng, nh∆∞ng √Ω th·ª©c ph√°p lu·∫≠t th·ªëng tr·ªã x√£ h·ªôi l√† c·ªßa giai c·∫•p c·∫ßm quy·ªÅn."
        },
        {
            q: "Vai tr√≤ c·ªßa √Ω th·ª©c ph√°p lu·∫≠t trong ho·∫°t ƒë·ªông '√Åp d·ª•ng ph√°p lu·∫≠t' l√† g√¨?",
            a: [
                "Kh√¥ng c√≥ vai tr√≤ g√¨, quan tr·ªçng l√† vƒÉn b·∫£n lu·∫≠t.",
                "Gi√∫p ch·ªß th·ªÉ √°p d·ª•ng ph√°p lu·∫≠t hi·ªÉu ƒë√∫ng, gi·∫£i th√≠ch ƒë√∫ng v√† ra quy·∫øt ƒë·ªãnh ch√≠nh x√°c, th·∫•u t√¨nh ƒë·∫°t l√Ω.",
                "Cho ph√©p ch·ªß th·ªÉ √°p d·ª•ng ph√°p lu·∫≠t t√πy ti·ªán thay ƒë·ªïi quy ƒë·ªãnh c·ªßa ph√°p lu·∫≠t.",
                "Ch·ªâ quan tr·ªçng ƒë·ªëi v·ªõi ng∆∞·ªùi d√¢n, kh√¥ng quan tr·ªçng v·ªõi quan ch·ª©c."
            ],
            correct: 1,
            explain: "N·∫øu c√°n b·ªô c√≥ √Ω th·ª©c ph√°p lu·∫≠t k√©m -> √Åp d·ª•ng sai, nh≈©ng nhi·ªÖu. N·∫øu t·ªët -> √Åp d·ª•ng ƒë√∫ng, c√¥ng b·∫±ng."
        },

        // --- PH·∫¶N 2: VI PH·∫†M PH√ÅP LU·∫¨T (KH√ÅI NI·ªÜM & C·∫§U TH√ÄNH) ---
        {
            topic: "Vi ph·∫°m ph√°p lu·∫≠t",
            q: "D·∫•u hi·ªáu n√†o sau ƒë√¢y l√† d·∫•u hi·ªáu c∆° b·∫£n ƒê·∫¶U TI√äN ƒë·ªÉ nh·∫≠n bi·∫øt m·ªôt vi ph·∫°m ph√°p lu·∫≠t?",
            a: [
                "T√≠nh c√≥ l·ªói.",
                "T√≠nh tr√°i ph√°p lu·∫≠t c·ªßa h√†nh vi (H√†nh ƒë·ªông ho·∫∑c Kh√¥ng h√†nh ƒë·ªông).",
                "T√≠nh nguy hi·ªÉm cho x√£ h·ªôi.",
                "NƒÉng l·ª±c tr√°ch nhi·ªám ph√°p l√Ω."
            ],
            correct: 1,
            explain: "Tr∆∞·ªõc h·∫øt ph·∫£i c√≥ m·ªôt 'H√†nh vi' (Action/Omission) v√† h√†nh vi ƒë√≥ ph·∫£i 'Tr√°i lu·∫≠t' th√¨ m·ªõi x√©t ti·∫øp c√°c y·∫øu t·ªë kh√°c. Kh√¥ng c√≥ h√†nh vi th√¨ kh√¥ng c√≥ vi ph·∫°m."
        },
        {
            q: "M·ªôt ng∆∞·ªùi b·ªã t√¢m th·∫ßn (m·∫•t kh·∫£ nƒÉng nh·∫≠n th·ª©c) d√πng dao t·∫•n c√¥ng ng∆∞·ªùi kh√°c. H√†nh vi n√†y c√≥ ph·∫£i l√† Vi ph·∫°m ph√°p lu·∫≠t kh√¥ng?",
            a: [
                "C√≥, v√¨ ƒë√¢y l√† h√†nh vi nguy hi·ªÉm cho x√£ h·ªôi v√† tr√°i ph√°p lu·∫≠t.",
                "C√≥, nh∆∞ng ƒë∆∞·ª£c mi·ªÖn tr√°ch nhi·ªám h√¨nh s·ª±.",
                "Kh√¥ng, v√¨ ch·ªß th·ªÉ kh√¥ng c√≥ nƒÉng l·ª±c tr√°ch nhi·ªám ph√°p l√Ω (kh√¥ng c√≥ l·ªói).",
                "Kh√¥ng, v√¨ ƒë√¢y l√† s·ª± ki·ªán b·∫•t kh·∫£ kh√°ng."
            ],
            correct: 2,
            explain: "Vi ph·∫°m ph√°p lu·∫≠t ƒë√≤i h·ªèi 4 y·∫øu t·ªë. Thi·∫øu y·∫øu t·ªë 'Ch·ªß th·ªÉ c√≥ nƒÉng l·ª±c' (do t√¢m th·∫ßn) -> Kh√¥ng c·∫•u th√†nh vi ph·∫°m ph√°p lu·∫≠t (d√π c√≥ g√¢y h·∫°i)."
        },
        {
            q: "Ph√¢n bi·ªát 'L·ªói c·ªë √Ω tr·ª±c ti·∫øp' v√† 'L·ªói c·ªë √Ω gi√°n ti·∫øp' d·ª±a tr√™n ti√™u ch√≠ n√†o?",
            a: [
                "M·ª©c ƒë·ªô thi·ªát h·∫°i x·∫£y ra.",
                "Th√°i ƒë·ªô ƒë·ªëi v·ªõi h·∫≠u qu·∫£: Mong mu·ªën h·∫≠u qu·∫£ x·∫£y ra (Tr·ª±c ti·∫øp) hay Kh√¥ng mong mu·ªën nh∆∞ng ƒë·ªÉ m·∫∑c h·∫≠u qu·∫£ x·∫£y ra (Gi√°n ti·∫øp).",
                "Kh·∫£ nƒÉng nh·∫≠n th·ª©c h√†nh vi.",
                "M·ª•c ƒë√≠ch ph·∫°m t·ªôi."
            ],
            correct: 1,
            explain: "Tr·ª±c ti·∫øp: Bi·∫øt r√µ, Mong mu·ªën. Gi√°n ti·∫øp: Bi·∫øt r√µ, Kh√¥ng mong mu·ªën nh∆∞ng Ch·∫•p nh·∫≠n/ƒê·ªÉ m·∫∑c."
        },
        {
            q: "Ph√¢n bi·ªát 'L·ªói v√¥ √Ω v√¨ qu√° t·ª± tin' v√† 'L·ªói v√¥ √Ω do c·∫©u th·∫£'?",
            a: [
                "Qu√° t·ª± tin: Th·∫•y tr∆∞·ªõc h·∫≠u qu·∫£ nh∆∞ng tin r·∫±ng kh√¥ng x·∫£y ra. C·∫©u th·∫£: Kh√¥ng th·∫•y tr∆∞·ªõc h·∫≠u qu·∫£ d√π ph·∫£i th·∫•y v√† c√≥ th·ªÉ th·∫•y.",
                "Qu√° t·ª± tin: Kh√¥ng th·∫•y tr∆∞·ªõc h·∫≠u qu·∫£. C·∫©u th·∫£: Th·∫•y tr∆∞·ªõc h·∫≠u qu·∫£.",
                "Qu√° t·ª± tin: Mong mu·ªën h·∫≠u qu·∫£. C·∫©u th·∫£: Kh√¥ng mong mu·ªën h·∫≠u qu·∫£.",
                "Hai lo·∫°i l·ªói n√†y gi·ªëng nhau v·ªÅ b·∫£n ch·∫•t."
            ],
            correct: 0,
            explain: "Qu√° t·ª± tin = Th·∫•y tr∆∞·ªõc + Ch·ªß quan (nghƒ© m√¨nh gi·ªèi/may m·∫Øn). C·∫©u th·∫£ = Kh√¥ng th·∫•y tr∆∞·ªõc + Thi·∫øu tr√°ch nhi·ªám (l·∫Ω ra ph·∫£i bi·∫øt)."
        },
        {
            q: "M·∫∑t kh√°ch quan c·ªßa vi ph·∫°m ph√°p lu·∫≠t bao g·ªìm nh·ªØng y·∫øu t·ªë n√†o?",
            a: [
                "L·ªói, ƒë·ªông c∆°, m·ª•c ƒë√≠ch.",
                "H√†nh vi tr√°i lu·∫≠t, h·∫≠u qu·∫£ thi·ªát h·∫°i, m·ªëi quan h·ªá nh√¢n qu·∫£, th·ªùi gian, ƒë·ªãa ƒëi·ªÉm, ph∆∞∆°ng ti·ªán.",
                "NƒÉng l·ª±c tr√°ch nhi·ªám ph√°p l√Ω v√† ƒë·ªô tu·ªïi.",
                "C√°c quan h·ªá x√£ h·ªôi b·ªã x√¢m h·∫°i."
            ],
            correct: 1,
            explain: "M·∫∑t kh√°ch quan l√† nh·ªØng g√¨ th·ªÉ hi·ªán ra b√™n ngo√†i th·∫ø gi·ªõi th·ª±c t·∫°i. (ƒê√°p √°n A l√† M·∫∑t ch·ªß quan)."
        },
        {
            q: "Kh√°ch th·ªÉ c·ªßa vi ph·∫°m ph√°p lu·∫≠t l√† g√¨?",
            a: [
                "L√† ng∆∞·ªùi b·ªã h·∫°i.",
                "L√† t√†i s·∫£n b·ªã m·∫•t.",
                "L√† quan h·ªá x√£ h·ªôi ƒë∆∞·ª£c ph√°p lu·∫≠t b·∫£o v·ªá nh∆∞ng b·ªã h√†nh vi vi ph·∫°m x√¢m h·∫°i.",
                "L√† c√¥ng c·ª• ph∆∞∆°ng ti·ªán ph·∫°m t·ªôi."
            ],
            correct: 2,
            explain: "Kh√°ch th·ªÉ l√† 'Quan h·ªá x√£ h·ªôi'. V√≠ d·ª•: Tr·ªôm c·∫Øp x√¢m h·∫°i 'Quan h·ªá s·ªü h·ªØu'. Gi·∫øt ng∆∞·ªùi x√¢m h·∫°i 'Quan h·ªá nh√¢n th√¢n/t√≠nh m·∫°ng'."
        },
        {
            q: "ƒê·ªông c∆° vi ph·∫°m v√† M·ª•c ƒë√≠ch vi ph·∫°m kh√°c nhau th·∫ø n√†o?",
            a: [
                "ƒê·ªông c∆° l√† c√°i th√∫c ƒë·∫©y b√™n trong; M·ª•c ƒë√≠ch l√† c√°i m·ªëc cu·ªëi c√πng mu·ªën ƒë·∫°t ƒë∆∞·ª£c.",
                "ƒê·ªông c∆° l√† bi·ªÉu hi·ªán b√™n ngo√†i; M·ª•c ƒë√≠ch l√† bi·ªÉu hi·ªán b√™n trong.",
                "ƒê·ªông c∆° ch·ªâ c√≥ ·ªü l·ªói v√¥ √Ω; M·ª•c ƒë√≠ch ch·ªâ c√≥ ·ªü l·ªói c·ªë √Ω.",
                "ƒê·ªông c∆° v√† m·ª•c ƒë√≠ch l√† m·ªôt."
            ],
            correct: 0,
            explain: "ƒê·ªông c∆° (T·∫°i sao l√†m? - V√¨ ghen, v√¨ ti·ªÅn). M·ª•c ƒë√≠ch (L√†m ƒë·ªÉ ƒë·∫°t g√¨? - ƒê·ªÉ gi·∫øt ng∆∞·ªùi, ƒë·ªÉ chi·∫øm ƒëo·∫°t)."
        },
        
        // --- PH·∫¶N 3: C√ÅC LO·∫†I VI PH·∫†M & TR√ÅCH NHI·ªÜM PH√ÅP L√ù ---
        {
            topic: "Tr√°ch nhi·ªám ph√°p l√Ω",
            q: "√îng A x√¢y nh√† tr√°i ph√©p, b·ªã Ch·ªß t·ªãch UBND ph∆∞·ªùng ra quy·∫øt ƒë·ªãnh bu·ªôc th√°o d·ª° v√† ph·∫°t ti·ªÅn. ƒê√¢y l√† lo·∫°i tr√°ch nhi·ªám ph√°p l√Ω n√†o?",
            a: [
                "Tr√°ch nhi·ªám H√¨nh s·ª±.",
                "Tr√°ch nhi·ªám D√¢n s·ª±.",
                "Tr√°ch nhi·ªám H√†nh ch√≠nh.",
                "Tr√°ch nhi·ªám K·ª∑ lu·∫≠t."
            ],
            correct: 2,
            explain: "X√¢y d·ª±ng tr√°i ph√©p l√† vi ph·∫°m quy t·∫Øc qu·∫£n l√Ω nh√† n∆∞·ªõc -> Vi ph·∫°m h√†nh ch√≠nh -> Tr√°ch nhi·ªám h√†nh ch√≠nh."
        },
        {
            q: "Anh B (c√¥ng ch·ª©c) th∆∞·ªùng xuy√™n ƒëi l√†m mu·ªôn v√† u·ªëng r∆∞·ª£u trong gi·ªù l√†m vi·ªác. Anh B ph·∫£i ch·ªãu tr√°ch nhi·ªám ph√°p l√Ω n√†o?",
            a: [
                "Tr√°ch nhi·ªám H√†nh ch√≠nh.",
                "Tr√°ch nhi·ªám K·ª∑ lu·∫≠t.",
                "Tr√°ch nhi·ªám H√¨nh s·ª±.",
                "Tr√°ch nhi·ªám D√¢n s·ª±."
            ],
            correct: 1,
            explain: "Vi ph·∫°m n·ªôi quy, quy ch·∫ø c·ªßa c∆° quan/ƒë∆°n v·ªã ƒë·ªëi v·ªõi c√°n b·ªô/c√¥ng ch·ª©c/ng∆∞·ªùi lao ƒë·ªông -> Tr√°ch nhi·ªám K·ª∑ lu·∫≠t."
        },
        {
            q: "B√† C vay ti·ªÅn c·ªßa b√† D nh∆∞ng ƒë·∫øn h·∫°n kh√¥ng tr·∫£. B√† D ki·ªán ra t√≤a. B√† C ph·∫£i ch·ªãu tr√°ch nhi·ªám g√¨?",
            a: [
                "Tr√°ch nhi·ªám H√¨nh s·ª± (T·ªôi l·∫°m d·ª•ng t√≠n nhi·ªám).",
                "Tr√°ch nhi·ªám H√†nh ch√≠nh (Ph·∫°t ti·ªÅn vi ph·∫°m h·ª£p ƒë·ªìng).",
                "Tr√°ch nhi·ªám D√¢n s·ª± (Bu·ªôc th·ª±c hi·ªán nghƒ©a v·ª• tr·∫£ n·ª£ v√† b·ªìi th∆∞·ªùng).",
                "Tr√°ch nhi·ªám K·ª∑ lu·∫≠t."
            ],
            correct: 2,
            explain: "Tranh ch·∫•p h·ª£p ƒë·ªìng vay t√†i s·∫£n l√† quan h·ªá d√¢n s·ª±. Tr·ª´ khi c√≥ d·∫•u hi·ªáu gian d·ªëi/b·ªè tr·ªën m·ªõi th√†nh H√¨nh s·ª±."
        },
        {
            q: "C∆° s·ªü th·ª±c t·∫ø ƒë·ªÉ truy c·ª©u tr√°ch nhi·ªám ph√°p l√Ω l√† g√¨?",
            a: [
                "Quy·∫øt ƒë·ªãnh c·ªßa c∆° quan nh√† n∆∞·ªõc.",
                "H√†nh vi vi ph·∫°m ph√°p lu·∫≠t x·∫£y ra tr√™n th·ª±c t·∫ø.",
                "ƒê∆°n t·ªë c√°o c·ªßa c√¥ng d√¢n.",
                "S·ª± nghi ng·ªù c·ªßa c∆° quan ƒëi·ªÅu tra."
            ],
            correct: 1,
            explain: "Ph·∫£i c√≥ 'Vi ph·∫°m ph√°p lu·∫≠t' (S·ª± ki·ªán th·ª±c t·∫ø) th√¨ m·ªõi c√≥ c∆° s·ªü ƒë·ªÉ truy c·ª©u tr√°ch nhi·ªám."
        },
        {
            q: "Tr√°ch nhi·ªám ph√°p l√Ω KH√îNG nh·∫±m m·ª•c ƒë√≠ch n√†o sau ƒë√¢y?",
            a: [
                "Tr·ª´ng ph·∫°t ng∆∞·ªùi vi ph·∫°m.",
                "Gi√°o d·ª•c, rƒÉn ƒëe ng∆∞·ªùi vi ph·∫°m v√† ng∆∞·ªùi kh√°c.",
                "Kh√¥i ph·ª•c l·∫°i tr·∫≠t t·ª± x√£ h·ªôi.",
                "L√†m nh·ª•c nh√¢n ph·∫©m c·ªßa ng∆∞·ªùi vi ph·∫°m tr∆∞·ªõc c√¥ng ch√∫ng."
            ],
            correct: 3,
            explain: "Ph√°p lu·∫≠t hi·ªán ƒë·∫°i nghi√™m c·∫•m c√°c h√¨nh ph·∫°t mang t√≠nh nh·ª•c h√¨nh ho·∫∑c x√∫c ph·∫°m danh d·ª±, nh√¢n ph·∫©m con ng∆∞·ªùi."
        },
        {
            q: "Ph√°p nh√¢n th∆∞∆°ng m·∫°i ph·∫£i ch·ªãu tr√°ch nhi·ªám h√¨nh s·ª± trong tr∆∞·ªùng h·ª£p n√†o?",
            a: [
                "M·ªçi t·ªôi ph·∫°m quy ƒë·ªãnh trong B·ªô lu·∫≠t H√¨nh s·ª±.",
                "Ch·ªâ nh·ªØng t·ªôi ph·∫°m ƒë∆∞·ª£c quy ƒë·ªãnh c·ª• th·ªÉ t·∫°i ƒêi·ªÅu 76 B·ªô lu·∫≠t H√¨nh s·ª± (ch·ªß y·∫øu l√† t·ªôi kinh t·∫ø, m√¥i tr∆∞·ªùng).",
                "Ph√°p nh√¢n kh√¥ng bao gi·ªù ph·∫£i ch·ªãu tr√°ch nhi·ªám h√¨nh s·ª±.",
                "Ch·ªâ khi ng∆∞·ªùi ƒë·ª©ng ƒë·∫ßu ph√°p nh√¢n ƒë·ªìng √Ω."
            ],
            correct: 1,
            explain: "Ph√°p nh√¢n th∆∞∆°ng m·∫°i ch·ªâ ch·ªãu TNHS ƒë·ªëi v·ªõi m·ªôt s·ªë t·ªôi danh nh·∫•t ƒë·ªãnh (kho·∫£ng 33 t·ªôi) li√™n quan ƒë·∫øn kinh t·∫ø, m√¥i tr∆∞·ªùng..."
        },
        {
            q: "Ch·∫ø t√†i n√†o sau ƒë√¢y l√† ƒë·∫∑c tr∆∞ng c·ªßa Tr√°ch nhi·ªám D√¢n s·ª±?",
            a: [
                "Ph·∫°t ti·ªÅn n·ªôp v√†o ng√¢n s√°ch nh√† n∆∞·ªõc.",
                "B·ªìi th∆∞·ªùng thi·ªát h·∫°i cho b√™n b·ªã vi ph·∫°m.",
                "C·∫£nh c√°o.",
                "Bu·ªôc th√¥i vi·ªác."
            ],
            correct: 1,
            explain: "D√¢n s·ª± h∆∞·ªõng t·ªõi kh√¥i ph·ª•c quy·ªÅn l·ª£i cho ng∆∞·ªùi b·ªã h·∫°i (B·ªìi th∆∞·ªùng). Ph·∫°t ti·ªÅn n·ªôp ng√¢n s√°ch l√† H√†nh ch√≠nh/H√¨nh s·ª±."
        },
        {
            q: "Trong c√πng m·ªôt v·ª• vi·ªác, m·ªôt ng∆∞·ªùi c√≥ th·ªÉ v·ª´a ch·ªãu Tr√°ch nhi·ªám H√¨nh s·ª± v·ª´a ch·ªãu Tr√°ch nhi·ªám D√¢n s·ª± kh√¥ng?",
            a: [
                "Kh√¥ng, ch·ªâ ch·ªãu m·ªôt lo·∫°i tr√°ch nhi·ªám cao nh·∫•t.",
                "C√≥. (V√≠ d·ª•: V·ª´a b·ªã ph·∫°t t√π v√¨ t·ªôi g√¢y th∆∞∆°ng t√≠ch, v·ª´a ph·∫£i b·ªìi th∆∞·ªùng ti·ªÅn thu·ªëc men cho n·∫°n nh√¢n).",
                "Ch·ªâ khi n√†o n·∫°n nh√¢n y√™u c·∫ßu.",
                "Ch·ªâ ƒë·ªëi v·ªõi ph√°p nh√¢n."
            ],
            correct: 1,
            explain: "Ho√†n to√†n c√≥ th·ªÉ. TNHS l√† ch·ªãu tr∆∞·ªõc Nh√† n∆∞·ªõc (·ªü t√π), TNDS l√† ch·ªãu tr∆∞·ªõc N·∫°n nh√¢n (ƒë·ªÅn ti·ªÅn)."
        },
        {
            q: "Th·ªùi hi·ªáu truy c·ª©u tr√°ch nhi·ªám ph√°p l√Ω l√† g√¨?",
            a: [
                "Kho·∫£ng th·ªùi gian ƒë·ªÉ c∆° quan ƒëi·ªÅu tra ph√° √°n.",
                "Kho·∫£ng th·ªùi gian do lu·∫≠t ƒë·ªãnh m√† khi h·∫øt th·ªùi h·∫°n ƒë√≥ th√¨ ng∆∞·ªùi vi ph·∫°m kh√¥ng b·ªã truy c·ª©u tr√°ch nhi·ªám n·ªØa.",
                "Th·ªùi gian ng∆∞·ªùi ph·∫°m t·ªôi ph·∫£i ng·ªìi t√π.",
                "Th·ªùi gian th·ª≠ th√°ch c·ªßa √°n treo."
            ],
            correct: 1,
            explain: "H·∫øt th·ªùi hi·ªáu th√¨ ƒë∆∞·ª£c mi·ªÖn tr√°ch nhi·ªám (V√≠ d·ª•: V·ª• √°n ƒë√£ qua 20 nƒÉm kh√¥ng t√¨m ra th·ªß ph·∫°m...)."
        },
        {
            q: "M·ªôt h√†nh vi vi ph·∫°m h√†nh ch√≠nh c√≥ th·ªÉ b·ªã √°p d·ª•ng bao nhi√™u h√¨nh th·ª©c ph·∫°t ch√≠nh?",
            a: [
                "Ch·ªâ 01 h√¨nh th·ª©c ph·∫°t ch√≠nh.",
                "C√≥ th·ªÉ nhi·ªÅu h√¨nh th·ª©c ph·∫°t ch√≠nh c√πng l√∫c (V·ª´a C·∫£nh c√°o v·ª´a Ph·∫°t ti·ªÅn).",
                "T√πy v√†o quy·∫øt ƒë·ªãnh c·ªßa ng∆∞·ªùi x·ª≠ ph·∫°t.",
                "Kh√¥ng gi·ªõi h·∫°n."
            ],
            correct: 0,
            explain: "Nguy√™n t·∫Øc: M·ªói vi ph·∫°m ch·ªâ b·ªã √°p d·ª•ng 01 h√¨nh th·ª©c ph·∫°t ch√≠nh (c√≥ th·ªÉ k√®m nhi·ªÅu h√¨nh th·ª©c ph·∫°t b·ªï sung)."
        }
    ];

    // --- H√ÄM T·∫†O 100 C√ÇU (B·ªï sung v√† Bi·∫øn th·ªÉ) ---
    function generateFullDatabase() {
        let questions = [...fullDatabase];
        
        // Th√™m c√°c c√¢u h·ªèi b·ªï sung ƒë·ªÉ ph·ªß ki·∫øn th·ª©c
        const extraQuestions = [
            { q: "C√°n b·ªô A nh·∫≠n h·ªëi l·ªô. H√†nh vi n√†y x√¢m ph·∫°m kh√°ch th·ªÉ n√†o?", a: ["Quan h·ªá s·ªü h·ªØu.", "Ho·∫°t ƒë·ªông ƒë√∫ng ƒë·∫Øn c·ªßa c∆° quan nh√† n∆∞·ªõc.", "Tr·∫≠t t·ª± c√¥ng c·ªông.", "An to√†n giao th√¥ng."], correct: 1, explain: "T·ªôi ph·∫°m ch·ª©c v·ª• x√¢m ph·∫°m s·ª± ho·∫°t ƒë·ªông ƒë√∫ng ƒë·∫Øn c·ªßa b·ªô m√°y nh√† n∆∞·ªõc." },
            { q: "Tr√°ch nhi·ªám ph√°p l√Ω ch·∫•m d·ª©t khi n√†o?", a: ["Khi ng∆∞·ªùi vi ph·∫°m ƒë√£ ch·∫•p h√†nh xong h√¨nh ph·∫°t/quy·∫øt ƒë·ªãnh x·ª≠ l√Ω.", "Khi ng∆∞·ªùi vi ph·∫°m b·ªè tr·ªën.", "Khi ng∆∞·ªùi vi ph·∫°m xin l·ªói.", "Khi ng∆∞·ªùi vi ph·∫°m n·ªôp ƒë∆°n khi·∫øu n·∫°i."], correct: 0, explain: "Ch·∫•p h√†nh xong nghƒ©a v·ª• l√† cƒÉn c·ª© ch·∫•m d·ª©t tr√°ch nhi·ªám." },
            { q: "H√†nh vi ph√≤ng v·ªá ch√≠nh ƒë√°ng c√≥ ph·∫£i l√† vi ph·∫°m ph√°p lu·∫≠t kh√¥ng?", a: ["C√≥, nh∆∞ng ƒë∆∞·ª£c gi·∫£m nh·∫π.", "Kh√¥ng, ƒë√¢y l√† t√¨nh ti·∫øt lo·∫°i tr·ª´ t√≠nh ch·∫•t nguy hi·ªÉm cho x√£ h·ªôi (lo·∫°i tr·ª´ tr√°ch nhi·ªám).", "T√πy thu·ªôc h·∫≠u qu·∫£.", "C√≥, l√† vi ph·∫°m h√†nh ch√≠nh."], correct: 1, explain: "Ph√≤ng v·ªá ch√≠nh ƒë√°ng KH√îNG ph·∫£i l√† t·ªôi ph·∫°m/vi ph·∫°m." },
            { q: "Ch·∫ø t√†i 'Ph·∫°t vi ph·∫°m' trong h·ª£p ƒë·ªìng th∆∞∆°ng m·∫°i c√≥ t√≠nh ch·∫•t g√¨?", a: ["Mang t√≠nh tr·ª´ng ph·∫°t c·ªßa nh√† n∆∞·ªõc.", "Mang t√≠nh th·ªèa thu·∫≠n gi·ªØa c√°c b√™n ƒë·ªÉ rƒÉn ƒëe vi ph·∫°m h·ª£p ƒë·ªìng.", "Mang t√≠nh b·∫Øt bu·ªôc c·ªßa h√¨nh s·ª±.", "Mang t√≠nh gi√°o d·ª•c."], correct: 1, explain: "Trong d√¢n s·ª±/th∆∞∆°ng m·∫°i, ph·∫°t vi ph·∫°m do c√°c b√™n th·ªèa thu·∫≠n (t·ªëi ƒëa 8% gi√° tr·ªã nghƒ©a v·ª• trong th∆∞∆°ng m·∫°i)." },
            { q: "Y·∫øu t·ªë 'NƒÉng l·ª±c tr√°ch nhi·ªám ph√°p l√Ω' c·ªßa ch·ªß th·ªÉ KH√îNG ph·ª• thu·ªôc v√†o ƒëi·ªÅu g√¨?", a: ["ƒê·ªô tu·ªïi.", "Kh·∫£ nƒÉng nh·∫≠n th·ª©c.", "Tr√¨nh ƒë·ªô vƒÉn h√≥a/h·ªçc v·∫•n.", "T√¨nh tr·∫°ng b·ªánh l√Ω t√¢m th·∫ßn."], correct: 2, explain: "M√π ch·ªØ hay Ti·∫øn sƒ© n·∫øu ƒë·ªß tu·ªïi v√† kh√¥ng ƒëi√™n th√¨ ƒë·ªÅu ch·ªãu tr√°ch nhi·ªám nh∆∞ nhau." },
            { q: "L·ªói v√¥ √Ω do c·∫©u th·∫£ kh√°c s·ª± ki·ªán b·∫•t ng·ªù ·ªü ƒëi·ªÉm n√†o?", a: ["S·ª± ki·ªán b·∫•t ng·ªù: Kh√¥ng th·ªÉ th·∫•y tr∆∞·ªõc v√† kh√¥ng bu·ªôc ph·∫£i th·∫•y tr∆∞·ªõc. C·∫©u th·∫£: Bu·ªôc ph·∫£i th·∫•y tr∆∞·ªõc nh∆∞ng ƒë√£ kh√¥ng th·∫•y.", "S·ª± ki·ªán b·∫•t ng·ªù c√≥ l·ªói, c·∫©u th·∫£ kh√¥ng l·ªói.", "S·ª± ki·ªán b·∫•t ng·ªù ch·ªãu tr√°ch nhi·ªám m·ªôt n·ª≠a.", "Gi·ªëng nhau."], correct: 0, explain: "S·ª± ki·ªán b·∫•t ng·ªù = Kh√¥ng c√≥ l·ªói (Mi·ªÖn tr√°ch nhi·ªám). C·∫©u th·∫£ = C√≥ l·ªói (Ch·ªãu tr√°ch nhi·ªám)." },
            { q: "Lo·∫°i ch·∫ø t√†i n√†o kh√¥ng √°p d·ª•ng ƒë·ªëi v·ªõi ng∆∞·ªùi ch∆∞a th√†nh ni√™n ph·∫°m t·ªôi?", a: ["Ph·∫°t ti·ªÅn.", "C·∫£i t·∫°o kh√¥ng giam gi·ªØ.", "T√π chung th√¢n v√† T·ª≠ h√¨nh.", "T√π c√≥ th·ªùi h·∫°n."], correct: 2, explain: "Ch√≠nh s√°ch nh√¢n ƒë·∫°o: Kh√¥ng √°p d·ª•ng t√π chung th√¢n/t·ª≠ h√¨nh v·ªõi ng∆∞·ªùi d∆∞·ªõi 18 tu·ªïi." },
            { q: "Vi ph·∫°m ph√°p lu·∫≠t H√†nh ch√≠nh kh√°c Vi ph·∫°m H√¨nh s·ª± (T·ªôi ph·∫°m) ch·ªß y·∫øu ·ªü ƒëi·ªÉm n√†o?", a: ["Ch·ªß th·ªÉ th·ª±c hi·ªán.", "M·ª©c ƒë·ªô nguy hi·ªÉm cho x√£ h·ªôi (Nguy hi·ªÉm ƒë√°ng k·ªÉ vs Nguy hi·ªÉm th·∫•p h∆°n).", "L·ªói c·ªë √Ω hay v√¥ √Ω.", "ƒê·ªãa ƒëi·ªÉm th·ª±c hi·ªán."], correct: 1, explain: "Ranh gi·ªõi ch·ªß y·∫øu l√† 'M·ª©c ƒë·ªô nguy hi·ªÉm cho x√£ h·ªôi'. (V√≠ d·ª•: Tr·ªôm d∆∞·ªõi 2 tri·ªáu l√† h√†nh ch√≠nh, tr√™n 2 tri·ªáu l√† h√¨nh s·ª±)." },
            { q: "Tr√°ch nhi·ªám b·ªìi th∆∞·ªùng thi·ªát h·∫°i ngo√†i h·ª£p ƒë·ªìng ph√°t sinh khi n√†o?", a: ["Khi c√≥ h√†nh vi tr√°i lu·∫≠t, c√≥ thi·ªát h·∫°i, c√≥ l·ªói v√† c√≥ m·ªëi quan h·ªá nh√¢n qu·∫£.", "Ch·ªâ c·∫ßn c√≥ thi·ªát h·∫°i x·∫£y ra.", "Ch·ªâ c·∫ßn c√≥ l·ªói.", "Khi hai b√™n c√≥ k√Ω h·ª£p ƒë·ªìng tr∆∞·ªõc ƒë√≥."], correct: 0, explain: "Ph·∫£i h·ªôi t·ª• ƒë·ªß 4 y·∫øu t·ªë c·∫•u th√†nh tr√°ch nhi·ªám d√¢n s·ª±." },
            { q: "H√¨nh th·ª©c l·ªói n√†o ng∆∞·ªùi vi ph·∫°m 'mong mu·ªën h·∫≠u qu·∫£ x·∫£y ra'?", a: ["C·ªë √Ω tr·ª±c ti·∫øp.", "C·ªë √Ω gi√°n ti·∫øp.", "V√¥ √Ω qu√° t·ª± tin.", "V√¥ √Ω c·∫©u th·∫£."], correct: 0, explain: "D·∫•u hi·ªáu 'Mong mu·ªën' l√† ƒë·∫∑c tr∆∞ng c·ªßa C·ªë √Ω tr·ª±c ti·∫øp." },
            { q: "H√¨nh th·ª©c l·ªói n√†o ng∆∞·ªùi vi ph·∫°m 'ƒë·ªÉ m·∫∑c cho h·∫≠u qu·∫£ x·∫£y ra'?", a: ["C·ªë √Ω tr·ª±c ti·∫øp.", "C·ªë √Ω gi√°n ti·∫øp.", "V√¥ √Ω qu√° t·ª± tin.", "V√¥ √Ω c·∫©u th·∫£."], correct: 1, explain: "D·∫•u hi·ªáu 'ƒê·ªÉ m·∫∑c' (Ch·∫•p nh·∫≠n) l√† ƒë·∫∑c tr∆∞ng c·ªßa C·ªë √Ω gi√°n ti·∫øp." },
            { q: "H√¨nh th·ª©c l·ªói n√†o ng∆∞·ªùi vi ph·∫°m 'tin r·∫±ng h·∫≠u qu·∫£ kh√¥ng x·∫£y ra'?", a: ["C·ªë √Ω gi√°n ti·∫øp.", "V√¥ √Ω v√¨ qu√° t·ª± tin.", "V√¥ √Ω do c·∫©u th·∫£.", "S·ª± ki·ªán b·∫•t ng·ªù."], correct: 1, explain: "D·∫•u hi·ªáu 'Tin r·∫±ng... c√≥ th·ªÉ ngƒÉn ch·∫∑n' l√† V√¥ √Ω qu√° t·ª± tin." },
            { q: "Ng∆∞·ªùi u·ªëng r∆∞·ª£u say d·∫´n ƒë·∫øn m·∫•t kh·∫£ nƒÉng nh·∫≠n th·ª©c v√† th·ª±c hi·ªán h√†nh vi ph·∫°m t·ªôi th√¨?", a: ["ƒê∆∞·ª£c mi·ªÖn tr√°ch nhi·ªám.", "ƒê∆∞·ª£c gi·∫£m nh·∫π.", "V·∫´n ph·∫£i ch·ªãu tr√°ch nhi·ªám h√¨nh s·ª±.", "Chuy·ªÉn sang x·ª≠ l√Ω h√†nh ch√≠nh."], correct: 2, explain: "ƒêi·ªÅu 13 BLHS: Ng∆∞·ªùi ph·∫°m t·ªôi trong t√¨nh tr·∫°ng say... v·∫´n ph·∫£i ch·ªãu tr√°ch nhi·ªám h√¨nh s·ª±." },
            { q: "Bi·ªán ph√°p 'C∆∞·ª°ng ch·∫ø thi h√†nh √°n' ƒë∆∞·ª£c √°p d·ª•ng khi n√†o?", a: ["Ngay khi t√≤a tuy√™n √°n.", "Khi ng∆∞·ªùi ph·∫£i thi h√†nh √°n kh√¥ng t·ª± nguy·ªán thi h√†nh d√π c√≥ ƒëi·ªÅu ki·ªán thi h√†nh.", "Khi ng∆∞·ªùi b·ªã h·∫°i y√™u c·∫ßu.", "T√πy √Ω c∆° quan c√¥ng an."], correct: 1, explain: "C∆∞·ª°ng ch·∫ø √°p d·ª•ng khi ƒë·ªëi t∆∞·ª£ng kh√¥ng t·ª± nguy·ªán." },
            { q: "VƒÉn h√≥a ph√°p lu·∫≠t bao g·ªìm c√°c th√†nh t·ªë n√†o?", a: ["H·ªá t∆∞ t∆∞·ªüng ph√°p lu·∫≠t v√† Thi·∫øt ch·∫ø ph√°p lu·∫≠t.", "Tri th·ª©c ph√°p lu·∫≠t, T√¨nh c·∫£m ph√°p lu·∫≠t v√† H√†nh vi ph√°p lu·∫≠t th·ª±c ti·ªÖn.", "S√°ch lu·∫≠t v√† T√≤a √°n.", "Lu·∫≠t s∆∞ v√† Th·∫©m ph√°n."], correct: 1, explain: "VƒÉn h√≥a ph√°p lu·∫≠t l√† s·ª± t·ªïng h√≤a c·ªßa Nh·∫≠n th·ª©c, Th√°i ƒë·ªô v√† H√†nh ƒë·ªông theo ph√°p lu·∫≠t." }
        ];

        questions = questions.concat(extraQuestions);

        // Nh√¢n b·∫£n v√† bi·∫øn t·∫•u ƒë·ªÉ ƒë·ªß 100 c√¢u
        let finalQuestions = [];
        let i = 0;
        while (finalQuestions.length < 100) {
            let src = questions[i % questions.length];
            let newQ = {...src};
            // T·∫°o bi·∫øn th·ªÉ nh·ªè cho c√¢u h·ªèi ƒë·ªÉ tr√°nh c·∫£m gi√°c l·∫∑p l·∫°i 100%
            if (Math.floor(finalQuestions.length / questions.length) > 0) {
               newQ.q = src.q + " (G·ª£i √Ω: H√£y nh·ªõ l·∫°i ƒë·ªãnh nghƒ©a)";
            }
            finalQuestions.push(newQ);
            i++;
        }
        return finalQuestions;
    }

    let quizData = generateFullDatabase();
    let currentQuestions = [];
    let currentIndex = 0;
    let score = 0;
    let userAnswers = [];

    // --- LOGIC CH·∫†Y QUIZ ---
    const totalQElement = document.getElementById('total-q');
    if(totalQElement) totalQElement.textContent = quizData.length;

    document.getElementById('btn-start').onclick = startQuiz;
    document.getElementById('btn-next').onclick = nextQuestion;
    document.getElementById('btn-finish').onclick = finishQuiz;
    document.getElementById('btn-restart').onclick = () => location.reload();

    function startQuiz() {
        const limitInput = document.getElementById('q-count');
        let limit = parseInt(limitInput.value) || 20;
        if(limit > quizData.length) limit = quizData.length;
        
        // Shuffle
        const shuffled = [...quizData].sort(() => 0.5 - Math.random());
        currentQuestions = shuffled.slice(0, limit);
        
        // Reset
        currentIndex = 0;
        score = 0;
        userAnswers = new Array(limit).fill(null);
        
        // UI
        document.getElementById('setup-screen').style.display = 'none';
        document.getElementById('quiz-screen').style.display = 'flex';
        
        loadQuestion(0);
    }

    function loadQuestion(index) {
        const data = currentQuestions[index];
        
        document.getElementById('q-index').textContent = `C√¢u ${index + 1}/${currentQuestions.length}`;
        document.getElementById('q-topic').textContent = `Ch·ªß ƒë·ªÅ: ${data.topic || 'T·ªïng h·ª£p'}`;
        document.getElementById('q-text').textContent = data.q;
        
        const optionsGrid = document.getElementById('options');
        optionsGrid.innerHTML = '';
        
        data.a.forEach((opt, i) => {
            const div = document.createElement('div');
            div.className = 'option-card';
            div.innerHTML = `<span>${String.fromCharCode(65+i)}.</span> ${opt}`;
            
            div.onclick = () => handleAnswer(i, div);
            
            if (userAnswers[index] !== null) {
                div.classList.add('disabled');
                div.onclick = null;
                if (i === data.correct) div.classList.add('correct');
                else if (i === userAnswers[index]) div.classList.add('wrong');
            }
            optionsGrid.appendChild(div);
        });

        const explainBox = document.getElementById('explain');
        const btnNext = document.getElementById('btn-next');
        const btnFinish = document.getElementById('btn-finish');

        if (userAnswers[index] !== null) {
            explainBox.style.display = 'block';
            explainBox.innerHTML = `<strong>üí° GI·∫¢I TH√çCH CHI TI·∫æT:</strong><br>${data.explain}`;
            
            if (index < currentQuestions.length - 1) {
                btnNext.style.display = 'block';
                btnFinish.style.display = 'none';
            } else {
                btnNext.style.display = 'none';
                btnFinish.style.display = 'block';
            }
        } else {
            explainBox.style.display = 'none';
            btnNext.style.display = 'none';
            btnFinish.style.display = 'none';
        }

        const progress = ((index) / currentQuestions.length) * 100;
        document.getElementById('progress').style.width = `${progress}%`;
    }

    function handleAnswer(choiceIndex, element) {
        userAnswers[currentIndex] = choiceIndex;
        const data = currentQuestions[currentIndex];
        
        if (choiceIndex === data.correct) score++;
        
        loadQuestion(currentIndex);
        
        const progress = ((currentIndex + 1) / currentQuestions.length) * 100;
        document.getElementById('progress').style.width = `${progress}%`;
    }

    function nextQuestion() {
        if (currentIndex < currentQuestions.length - 1) {
            currentIndex++;
            loadQuestion(currentIndex);
        }
    }

    function finishQuiz() {
        document.getElementById('quiz-screen').style.display = 'none';
        document.getElementById('result-screen').style.display = 'block';
        
        const total = currentQuestions.length;
        document.getElementById('score').textContent = `${score}/${total}`;
        
        const percent = (score / total) * 100;
        const msg = document.getElementById('feedback-msg');
        
        if (percent >= 90) {
            msg.textContent = "üî• XU·∫§T S·∫ÆC! B·∫†N ƒê√É N·∫ÆM V·ªÆNG L√ù THUY·∫æT!";
            msg.style.color = "var(--primary)";
        } else if (percent >= 70) {
            msg.textContent = "üëç KH√Å T·ªêT. C·ªê G·∫ÆNG H∆†N ·ªû C√ÅC C√ÇU B·∫™Y.";
            msg.style.color = "#27ae60";
        } else if (percent >= 50) {
            msg.textContent = "ü§î T·∫†M ·ªîN. C·∫¶N √îN L·∫†I C√ÅC KH√ÅI NI·ªÜM.";
            msg.style.color = "#f39c12";
        } else {
            msg.textContent = "üìö C·∫¶N H·ªåC L·∫†I K·ª∏ H∆†N.";
            msg.style.color = "#c0392b";
        }

        const list = document.getElementById('review');
        list.innerHTML = '';
        
        currentQuestions.forEach((q, i) => {
            const uAns = userAnswers[i];
            const isCorrect = uAns === q.correct;
            
            const item = document.createElement('div');
            item.className = 'review-item ' + (isCorrect ? 'good' : 'bad');
            
            item.innerHTML = `
                <div class="review-q">C√¢u ${i+1}: ${q.q}</div>
                <div>B·∫°n ch·ªçn: <strong>${q.a[uAns]}</strong> ${isCorrect ? '‚úÖ' : '‚ùå'}</div>
                ${!isCorrect ? `<div style="color:var(--correct-text); font-weight:bold; margin-top:5px;">ƒê√°p √°n ƒë√∫ng: ${q.a[q.correct]}</div>` : ''}
                <div class="review-explain">üëâ ${q.explain}</div>
            `;
            
            list.appendChild(item);
        });
    }

});
</script>

</body>
</html>